# å¿«é€Ÿå…¥é—¨

<cite>
**æœ¬æ–‡æ¡£ä¸­å¼•ç”¨çš„æ–‡ä»¶**
- [package.json](file://package.json)
- [vite.config.ts](file://vite.config.ts)
- [main.ts](file://main.ts)
- [src/components/ConnectionModal.vue](file://src/components/ConnectionModal.vue)
- [src/components/layout/ThreePanelLayout.vue](file://src/components/layout/ThreePanelLayout.vue)
- [src/components/TabManager.vue](file://src/components/TabManager.vue)
- [src/modules/terminal/components/XTerminal.vue](file://src/modules/terminal/components/XTerminal.vue)
- [src/modules/file-manager/components/FileManager.vue](file://src/modules/file-manager/components/FileManager.vue)
- [src/modules/ai-assistant/components/AIAssistant.vue](file://src/modules/ai-assistant/components/AIAssistant.vue)
- [src/components/Header.vue](file://src/components/Header.vue)
- [src/types/ssh.ts](file://src/types/ssh.ts)
- [src/types/components.ts](file://src/types/components.ts)
</cite>

## ç›®å½•
1. [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
2. [ç¯å¢ƒæ­å»º](#ç¯å¢ƒæ­å»º)
3. [å¼€å‘ä¸è°ƒè¯•](#å¼€å‘ä¸è°ƒè¯•)
4. [åˆ›å»ºSSHè¿æ¥](#åˆ›å»ºsshè¿æ¥)
5. [ç•Œé¢åŠŸèƒ½è¯¦è§£](#ç•Œé¢åŠŸèƒ½è¯¦è§£)
6. [å¸¸è§é—®é¢˜æ’æŸ¥](#å¸¸è§é—®é¢˜æ’æŸ¥)

## é¡¹ç›®ç»“æ„

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªåŸºäºElectronçš„SSHè¿œç¨‹è¿æ¥åº”ç”¨ï¼Œé‡‡ç”¨Vue 3 + TypeScriptæŠ€æœ¯æ ˆæ„å»ºã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š

- **src/components**: æ ¸å¿ƒUIç»„ä»¶ï¼ŒåŒ…æ‹¬è¿æ¥æ¨¡æ€æ¡†ã€ä¸‰æ å¸ƒå±€ã€æ ‡ç­¾é¡µç®¡ç†ç­‰
- **src/modules**: åŠŸèƒ½æ¨¡å—ï¼ŒåŒ…æ‹¬æ–‡ä»¶ç®¡ç†ã€ç»ˆç«¯ã€AIåŠ©æ‰‹ç­‰
- **src/types**: ç±»å‹å®šä¹‰æ–‡ä»¶ï¼ŒåŒ…å«SSHè¿æ¥ã€é…ç½®ç­‰ç±»å‹
- **main.ts**: Electronä¸»è¿›ç¨‹å…¥å£æ–‡ä»¶
- **vite.config.ts**: Viteæ„å»ºé…ç½®æ–‡ä»¶
- **package.json**: é¡¹ç›®ä¾èµ–å’Œè„šæœ¬é…ç½®

é¡¹ç›®é‡‡ç”¨ä¸‰æ å¸ƒå±€è®¾è®¡ï¼Œå·¦ä¾§ä¸ºæ–‡ä»¶ç®¡ç†å™¨ï¼Œä¸­é—´ä¸ºç»ˆç«¯ï¼Œå³ä¾§ä¸ºAIåŠ©æ‰‹ï¼Œæä¾›ä¸€ä½“åŒ–çš„è¿œç¨‹å¼€å‘ä½“éªŒã€‚

**Section sources**
- [package.json](file://package.json)
- [vite.config.ts](file://vite.config.ts)

## ç¯å¢ƒæ­å»º

### å…‹éš†ä»“åº“

é¦–å…ˆï¼Œå…‹éš†é¡¹ç›®ä»“åº“åˆ°æœ¬åœ°ï¼š

```bash
git clone https://github.com/your-repo/sshcode.git
cd sshcode
```

### å®‰è£…ä¾èµ–

é¡¹ç›®ä¾èµ–Node.jsç¯å¢ƒå’ŒåŒ…ç®¡ç†å·¥å…·ã€‚æ¨èä½¿ç”¨Node.js 16.xæˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

#### ä½¿ç”¨pnpmå®‰è£…ä¾èµ–

```bash
# å…¨å±€å®‰è£…pnpm
npm install -g pnpm

# å®‰è£…é¡¹ç›®ä¾èµ–
pnpm install
```

#### ä½¿ç”¨yarnå®‰è£…ä¾èµ–

```bash
# å…¨å±€å®‰è£…yarn
npm install -g yarn

# å®‰è£…é¡¹ç›®ä¾èµ–
yarn install
```

#### ä½¿ç”¨npmå®‰è£…ä¾èµ–

```bash
# å®‰è£…é¡¹ç›®ä¾èµ–
npm install
```

å®‰è£…å®Œæˆåï¼Œé¡¹ç›®ä¾èµ–å°†åŒ…å«Electronã€Vue 3ã€TypeScriptã€Viteç­‰æ ¸å¿ƒåº“ï¼Œä»¥åŠssh2ã€ssh2-sftp-clientç­‰SSHç›¸å…³åº“ã€‚

**Section sources**
- [package.json](file://package.json)

## å¼€å‘ä¸è°ƒè¯•

### å¯åŠ¨Viteå¼€å‘æœåŠ¡å™¨

é¡¹ç›®ä½¿ç”¨Viteä½œä¸ºå¼€å‘æœåŠ¡å™¨ï¼Œæä¾›å¿«é€Ÿçš„çƒ­é‡è½½ä½“éªŒã€‚å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
# ä½¿ç”¨npm
npm run dev

# ä½¿ç”¨yarn
yarn dev

# ä½¿ç”¨pnpm
pnpm dev
```

è¿™å°†å¯åŠ¨Viteå¼€å‘æœåŠ¡å™¨ï¼Œé»˜è®¤ç›‘å¬3000ç«¯å£ã€‚æ‚¨å¯ä»¥åœ¨æµè§ˆå™¨ä¸­è®¿é—®`http://localhost:3000`æŸ¥çœ‹åº”ç”¨ã€‚

### è°ƒè¯•Electronä¸»è¿›ç¨‹

ä¸ºäº†è°ƒè¯•Electronä¸»è¿›ç¨‹ï¼Œé¡¹ç›®æä¾›äº†ä¸“é—¨çš„è°ƒè¯•è„šæœ¬ã€‚åœ¨`package.json`ä¸­å®šä¹‰äº†`debug`è„šæœ¬ï¼š

```json
"debug": "concurrently \"vite\" \"npm run build-main && wait-on http://localhost:3000 && electron . --dev --remote-debugging-port=9222\""
```

å¯åŠ¨è°ƒè¯•æ¨¡å¼ï¼š

```bash
# ä½¿ç”¨npm
npm run debug

# ä½¿ç”¨yarn
yarn debug

# ä½¿ç”¨pnpm
pnpm debug
```

æ­¤å‘½ä»¤ä¼šåŒæ—¶å¯åŠ¨Viteå¼€å‘æœåŠ¡å™¨å’ŒElectronåº”ç”¨ï¼Œå¹¶å¼€å¯è¿œç¨‹è°ƒè¯•ç«¯å£9222ã€‚æ‚¨å¯ä»¥é€šè¿‡è®¿é—®`http://localhost:9222`æ¥è°ƒè¯•Electronä¸»è¿›ç¨‹ã€‚

### æ„å»ºElectronåº”ç”¨

å½“æ‚¨éœ€è¦æ„å»ºç”Ÿäº§ç‰ˆæœ¬çš„åº”ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# æ„å»ºä¸»è¿›ç¨‹ä»£ç 
npm run build-main

# æ„å»ºå‰ç«¯ä»£ç 
npm run build

# æ„å»ºå®Œæ•´çš„Electronåº”ç”¨
npm run build-electron
```

**Section sources**
- [package.json](file://package.json)
- [vite.config.ts](file://vite.config.ts)
- [main.ts](file://main.ts)

## åˆ›å»ºSSHè¿æ¥

### æ‰“å¼€è¿æ¥æ¨¡æ€æ¡†

å¯åŠ¨åº”ç”¨åï¼Œç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ çš„"è¿æ¥ç®¡ç†"æŒ‰é’®ï¼ˆğŸ”—å›¾æ ‡ï¼‰ï¼Œå°†æ‰“å¼€è¿æ¥ç®¡ç†æ¨¡æ€æ¡†ã€‚

### å¡«å†™è¿æ¥ä¿¡æ¯

åœ¨è¿æ¥ç®¡ç†æ¨¡æ€æ¡†ä¸­ï¼Œç‚¹å‡»"æ–°å»ºè¿æ¥"æŒ‰é’®ï¼Œå¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š

- **è¿æ¥åç§°**: ä¸ºè¿æ¥è®¾ç½®ä¸€ä¸ªæ˜“äºè¯†åˆ«çš„åç§°
- **ä¸»æœºåœ°å€**: ç›®æ ‡æœåŠ¡å™¨çš„IPåœ°å€æˆ–åŸŸå
- **ç«¯å£**: SSHæœåŠ¡ç«¯å£ï¼Œé»˜è®¤ä¸º22
- **ç”¨æˆ·å**: SSHç™»å½•ç”¨æˆ·å
- **è®¤è¯æ–¹å¼**: é€‰æ‹©"å¯†ç è®¤è¯"æˆ–"å¯†é’¥è®¤è¯"
  - å¯†ç è®¤è¯ï¼šè¾“å…¥ç™»å½•å¯†ç 
  - å¯†é’¥è®¤è¯ï¼šè¾“å…¥ç§é’¥æ–‡ä»¶è·¯å¾„æˆ–ç›´æ¥ç²˜è´´ç§é’¥å†…å®¹

### å»ºç«‹è¿æ¥

å¡«å†™å®Œè¿æ¥ä¿¡æ¯åï¼Œç‚¹å‡»"åˆ›å»ºè¿æ¥"æŒ‰é’®ä¿å­˜é…ç½®ã€‚åœ¨è¿æ¥åˆ—è¡¨ä¸­ï¼Œç‚¹å‡»å¯¹åº”è¿æ¥çš„"è¿æ¥"æŒ‰é’®ï¼ˆğŸ”—å›¾æ ‡ï¼‰å³å¯å»ºç«‹SSHè¿æ¥ã€‚

è¿æ¥æˆåŠŸåï¼Œåº”ç”¨å°†è‡ªåŠ¨åˆ›å»ºä¸‰ä¸ªé¢æ¿ï¼š
- å·¦ä¾§æ–‡ä»¶ç®¡ç†å™¨ï¼šæ˜¾ç¤ºè¿œç¨‹æœåŠ¡å™¨çš„æ–‡ä»¶ç³»ç»Ÿ
- ä¸­é—´ç»ˆç«¯ï¼šæä¾›SSH shelläº¤äº’ç•Œé¢
- å³ä¾§AIåŠ©æ‰‹ï¼šæä¾›æ™ºèƒ½å‘½ä»¤å»ºè®®å’Œæ‰§è¡ŒåŠŸèƒ½

**Section sources**
- [src/components/ConnectionModal.vue](file://src/components/ConnectionModal.vue)
- [src/types/ssh.ts](file://src/types/ssh.ts)
- [main.ts](file://main.ts)

## ç•Œé¢åŠŸèƒ½è¯¦è§£

### ä¸‰æ å¸ƒå±€

åº”ç”¨é‡‡ç”¨ä¸‰æ å¸ƒå±€è®¾è®¡ï¼Œå„åŒºåŸŸåŠŸèƒ½å¦‚ä¸‹ï¼š

```mermaid
graph TB
subgraph "ä¸‰æ å¸ƒå±€"
A[å·¦ä¾§: æ–‡ä»¶ç®¡ç†å™¨] --> |æ–‡ä»¶æµè§ˆ| B[ä¸­é—´: ç»ˆç«¯]
B --> |å‘½ä»¤æ‰§è¡Œ| C[å³ä¾§: AIåŠ©æ‰‹]
C --> |æ™ºèƒ½å»ºè®®| B
end
```

**Diagram sources**
- [src/components/layout/ThreePanelLayout.vue](file://src/components/layout/ThreePanelLayout.vue)

#### æ–‡ä»¶ç®¡ç†å™¨

- **å¯¼èˆªæ§åˆ¶**: æä¾›åé€€ã€å‰è¿›ã€ä¸»ç›®å½•ã€åˆ·æ–°æŒ‰é’®
- **è·¯å¾„è¾“å…¥**: å¯ç›´æ¥è¾“å…¥è·¯å¾„è¿›è¡Œå¯¼èˆª
- **æ–‡ä»¶æ“ä½œ**: æ”¯æŒæ–°å»ºæ–‡ä»¶/ç›®å½•ã€ä¸Šä¼ ã€ä¸‹è½½ã€é‡å‘½åã€åˆ é™¤ç­‰æ“ä½œ
- **å¤šé€‰åŠŸèƒ½**: æ”¯æŒCtrl/Commandé”®å¤šé€‰æ–‡ä»¶

#### ç»ˆç«¯

- **æµ®åŠ¨è¾“å…¥æ¡†**: æ”¯æŒCtrl+Shift+Tå¿«æ·é”®æ˜¾ç¤º/éšè—
- **æ™ºèƒ½è¡¥å…¨**: æ”¯æŒæœ¬åœ°å‘½ä»¤å’ŒAIæ™ºèƒ½è¡¥å…¨
- **å¿«æ·é”®**: 
  - Ctrl+Space: æ˜¾ç¤ºè¡¥å…¨å»ºè®®
  - Ctrl+â†‘/â†“: å¯¼èˆªè¡¥å…¨å»ºè®®
  - F4: åˆ‡æ¢AIè¡¥å…¨å¼€å…³

#### AIåŠ©æ‰‹

- **æ™ºèƒ½å¯¹è¯**: å¯ä»¥é€šè¿‡è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAIå°†ç”Ÿæˆç›¸åº”çš„å‘½ä»¤
- **å‘½ä»¤æ‰§è¡Œ**: æ”¯æŒä¸€é”®æ‰§è¡ŒAIç”Ÿæˆçš„å‘½ä»¤
- **ç³»ç»Ÿç›‘æ§**: å®æ—¶æ˜¾ç¤ºç³»ç»ŸCPUã€å†…å­˜ã€ç£ç›˜ä½¿ç”¨æƒ…å†µ

### æ ‡ç­¾é¡µç®¡ç†

åº”ç”¨æ”¯æŒå¤šæ ‡ç­¾é¡µç®¡ç†ï¼Œæ¯ä¸ªSSHè¿æ¥è¿è¡Œåœ¨ç‹¬ç«‹çš„æ ‡ç­¾é¡µä¸­ã€‚é€šè¿‡æ ‡ç­¾æ å¯ä»¥ï¼š
- åˆ‡æ¢ä¸åŒè¿æ¥
- å…³é—­è¿æ¥
- é‡æ–°è¿æ¥

### çŠ¶æ€æ 

åº•éƒ¨çŠ¶æ€æ æ˜¾ç¤ºå½“å‰è¿æ¥çŠ¶æ€ã€ç³»ç»Ÿèµ„æºä½¿ç”¨æƒ…å†µç­‰ä¿¡æ¯ã€‚

**Section sources**
- [src/components/layout/ThreePanelLayout.vue](file://src/components/layout/ThreePanelLayout.vue)
- [src/modules/terminal/components/XTerminal.vue](file://src/modules/terminal/components/XTerminal.vue)
- [src/modules/file-manager/components/FileManager.vue](file://src/modules/file-manager/components/FileManager.vue)
- [src/modules/ai-assistant/components/AIAssistant.vue](file://src/modules/ai-assistant/components/AIAssistant.vue)

## å¸¸è§é—®é¢˜æ’æŸ¥

### ä¾èµ–å®‰è£…å¤±è´¥

**é—®é¢˜**: å®‰è£…ä¾èµ–æ—¶å‡ºç°ç½‘ç»œé”™è¯¯æˆ–åŒ…ä¸‹è½½å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. æ›´æ¢npmé•œåƒæºï¼š
   ```bash
   npm config set registry https://registry.npmmirror.com
   ```
3. ä½¿ç”¨yarnæˆ–pnpmæ›¿ä»£npmï¼Œå®ƒä»¬é€šå¸¸æœ‰æ›´å¥½çš„ç½‘ç»œå®¹é”™èƒ½åŠ›

### ç«¯å£å ç”¨

**é—®é¢˜**: Viteå¼€å‘æœåŠ¡å™¨å¯åŠ¨æ—¶æç¤ºç«¯å£3000è¢«å ç”¨

**è§£å†³æ–¹æ¡ˆ**:
1. ä¿®æ”¹`vite.config.ts`ä¸­çš„ç«¯å£é…ç½®ï¼š
   ```typescript
   server: {
     port: 3001, // ä¿®æ”¹ä¸ºå…¶ä»–ç«¯å£
     open: true
   }
   ```
2. æˆ–è€…åœ¨å¯åŠ¨æ—¶æŒ‡å®šç«¯å£ï¼š
   ```bash
   vite --port 3001
   ```

### æƒé™é”™è¯¯

**é—®é¢˜**: SSHè¿æ¥æ—¶æç¤º"æƒé™ä¸è¶³"æˆ–"è®¤è¯å¤±è´¥"

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®
2. å¯¹äºå¯†é’¥è®¤è¯ï¼Œç¡®ä¿ç§é’¥æ–‡ä»¶æƒé™æ­£ç¡®ï¼ˆé€šå¸¸åº”ä¸º600ï¼‰
3. æ£€æŸ¥æœåŠ¡å™¨SSHé…ç½®æ˜¯å¦å…è®¸å¯¹åº”ç”¨æˆ·çš„ç™»å½•
4. ç¡®è®¤ç§é’¥æ ¼å¼æ˜¯å¦æ­£ç¡®ï¼Œæ”¯æŒOpenSSHã€RSAç­‰æ ¼å¼

### è¿æ¥è¶…æ—¶

**é—®é¢˜**: SSHè¿æ¥é•¿æ—¶é—´æ— å“åº”æˆ–æç¤ºè¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. ç¡®è®¤æœåŠ¡å™¨IPåœ°å€å’Œç«¯å£æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥é˜²ç«å¢™è®¾ç½®ï¼Œç¡®ä¿SSHç«¯å£æœªè¢«é˜»æ­¢
4. å°è¯•å¢åŠ è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œåœ¨`main.ts`ä¸­ä¿®æ”¹`readyTimeout`é…ç½®

### Electronå¯åŠ¨å¤±è´¥

**é—®é¢˜**: Electronåº”ç”¨æ— æ³•å¯åŠ¨

**è§£å†³æ–¹æ¡ˆ**:
1. ç¡®ä¿å·²æ­£ç¡®å®‰è£…Electronä¾èµ–
2. æ£€æŸ¥Node.jsç‰ˆæœ¬æ˜¯å¦å…¼å®¹
3. æ¸…ç†node_moduleså¹¶é‡æ–°å®‰è£…ä¾èµ–ï¼š
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

**Section sources**
- [main.ts](file://main.ts)
- [src/components/ConnectionModal.vue](file://src/components/ConnectionModal.vue)
- [vite.config.ts](file://vite.config.ts)